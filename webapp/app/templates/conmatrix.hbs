<blockquote id="" class='col-xs-12'>
<h3 id="contMatTitle">Contribution Matrix</h3>
</blockquote>
<div id="conMatrix" class='col-xs-12 well collapse in'>
  <form id="conMatControls" class='col-md-3 col-sm-12 col-xs-12'>
    <div class='well pull-right col-xs-12'>
      <h4 class=''>
        <span class="pull-left">Controls</span>
        <span class="pull-right glyphicon glyphicon-cog" aria-hidden="true"></span>
      </h4>
      <br>
      <hr>
      <div class=''>
        {{#each controls}}
          <div class="conMatControls">
            {{#if_eq type "radio"}}
              <h4 class='controls-title'>{{title}}</h4>
                {{#each selections}}
                  {{#if isAvailable}}
                    <label for="{{value}}">{{label}}
                    <input  type="radio" data-param="{{tag}}"
                            data-value="{{value}}" name="{{name}}"
                                        value="{{value}}"
                                        {{#if isSelected}} checked="checked"{{/if}}/></label>
                    <!-- {{#each selections}}
                      <label for="tau">Ï„</label>
                      <input id='tau' name="tau" type="number" min="0" style="width:52px" disabled>
                    {{/each}} -->
                  {{/if}}
                {{/each}}
            {{/if_eq}}
            {{#if_eq type "select"}}
              <h4 class='controls-title'>{{title}}</h4>
              <select action="{{action}}" class='controls-container form-control' required>
                  {{#each selections}}
                    {{#if isAvailable}}
                      <option data-param="{{tag}}" data-value="{{value}}" filter="{{value}}" {{#if isSelected}} selected {{/if}}>
                        {{label}}
                      </option>
                    {{/if}}
                  {{/each}}
              </select>
            {{/if_eq}}
            {{#if_eq type "checkbox"}}
                <h4 class='controls-title'>{{title}}</h4>
                {{#each selections}}
                  <label class="checkbox-inline" for="{{value}}">
                    <input type="checkbox" data-param="{{tag}}" data-value="{{value}}" value="{{value}}"
                    {{#if isSelected}} checked ="checked"{{/if}}/>
                    {{label}}
                  </label>
                {{/each}}
                <hr>
                <a id="checkAllIntvs"  class="intvs btn btn-default">Check All</a>
                <a id="uncheckAllIntvs" class="intvs btn btn-default">Uncheck All</a>
            {{/if_eq}}
            </div>
        {{/each}}
      </div>
    </div>
    <a id="createMatrixButton" {{#unless canCreateMatrix}}disabled{{/unless}} action='makeConMatrix' class="btn btn-default" data-content="All fields should be filled" rel="popover" data-placement="bottom" data-trigger="hover">Create Matrix</a>
    <a id="clearCM" action='clearCM' {{#unless isFull}} disabled {{/unless}} class="btn btn-default" >Clear Matrix</a>
    {{#if isLoading}}
      <a id="cancelCM" action='cancelCM' class="btn btn-default" style="display:none">Cancel!</a>
    {{/if}}
  </form>
  <div id='cm-table-container' class='well table-container col-md-9 col-sm-12
    col-xs-12'>
      {{#if isEmpty}}
        No Data
      {{/if}}
      {{#if isLoading}}
        <div id="conMatloader" class="col-md-offset-2 col-md-8 col-xs-12"  aria="downloading contribution matrix" aria-hidden="false">
          <div class='row'>
            <div class='col-xs-1'>
              <div class="loader" id="conMatSpinner" style="font-size:12px">
                <!-- <i class="glyphicon glyphicon-cog gly-spin"></i> -->
              </div>
            </div>
            <h4 id="loaderTitle" class="col-xs-11">
            </h4>
          </div>
            <div class="row progress">
                <div id="conMatProgressBar" class="progress-bar active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%">
                      0%
              </div>
          </div>   
        </div>
      {{/if}}
      {{#if isCanceling}}
        Computation Canceled
      {{/if}}
    </div>
  </div>
</div>
